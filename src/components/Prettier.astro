<div class="container">
  <div class="row">
    <div class="cell size-10"></div>
    <div class="cell size-5"></div>
    <div class="cell size-7"></div>
    <div class="cell size-7"></div>
    <div class="cell size-6 letter-d"></div>
    <div class="cell size-6"></div>
    <div class="cell size-12"></div>
    <div class="cell size-10"></div>
    <div class="cell size-7"></div>
  </div>
  <div class="row">
    <div class="cell size-6"></div>
    <div class="cell size-7"></div>
    <div class="cell size-12"></div>
    <div class="cell size-5"></div>
    <div class="cell size-10"></div>
    <div class="cell size-2 letter-d"></div>
    <div class="cell size-3 letter-d"></div>
    <div class="cell size-9"></div>
    <div class="cell size-9"></div>
    <div class="cell size-12"></div>
    <div class="cell size-9"></div>
    <div class="cell size-7"></div>
  </div>

  <div class="row">
    <!-- row 3 -->
    <div class="cell size-12"></div>
    <div class="cell size-6"></div>
    <div class="cell size-8"></div>
    <div class="cell size-12"></div>
    <div class="cell size-7"></div>
    <div class="cell size-1 letter-d"></div>
    <div class="cell size-4 letter-d"></div>
    <div class="cell size-8"></div>
    <div class="cell size-12"></div>
    <div class="cell size-7"></div>
    <div class="cell size-9"></div>
    <div class="cell size-6"></div>
    <div class="cell size-4"></div>
    <div class="cell size-3"></div>
  </div>
  <div class="row">
    <!-- row 4 -->
    <div class="cell size-4"></div>
    <div class="cell size-5 letter-a"></div>
    <div class="cell size-4 letter-a"></div>
    <div class="cell size-1"></div>
    <div class="cell size-5 letter-n"></div>
    <div class="cell size-1"></div>
    <div class="cell size-5 letter-n"></div>
    <div class="cell size-2"></div>
    <div class="cell size-4"></div>
    <div class="cell size-5 letter-d"></div>
    <div class="cell size-1"></div>
    <div class="cell size-6 letter-d"></div>
    <div class="cell size-5 letter-r"></div>
    <div class="cell size-1"></div>
    <div class="cell size-6 letter-r"></div>
    <div class="cell size-4"></div>
    <div class="cell size-8 letter-e"></div>
    <div class="cell size-4"></div>
    <div class="cell size-4"></div>
    <div class="cell size-9 letter-s"></div>
    <div class="cell size-4"></div>
  </div>
  <div class="row">
    <!-- row 5 -->
    <div class="cell size-5"></div>
    <div class="cell size-5 letter-a"></div>
    <div class="cell size-8 letter-a"></div>
    <div class="cell size-2 letter-n"></div>
    <div class="cell size-2 letter-n"></div>
    <div class="cell size-9 letter-n"></div>
    <div class="cell size-3"></div>
    <div class="cell size-2 letter-d"></div>
    <div class="cell size-10 letter-d"></div>
    <div class="cell size-2 letter-d"></div>
    <div class="cell size-7 letter-r"></div>
    <div class="cell size-5 letter-r"></div>
    <div class="cell size-1 letter-r"></div>
    <div class="cell size-1"></div>
    <div class="cell size-7 letter-e"></div>
    <div class="cell size-5 letter-e"></div>
    <div class="cell size-4"></div>
    <div class="cell size-9 letter-s"></div>
    <div class="cell size-4 letter-s"></div>
    <div class="cell size-4"></div>
  </div>
  <div class="row">
    <!-- row 6 -->
    <div class="cell size-7"></div>
    <div class="cell size-4 letter-a"></div>
    <div class="cell size-4"></div>
    <div class="cell size-5 letter-a"></div>
    <div class="cell size-5 letter-n"></div>
    <div class="cell size-5 letter-n"></div>
    <div class="cell size-4 letter-n"></div>
    <div class="cell size-1"></div>
    <div class="cell size-7 letter-d"></div>
    <div class="cell size-9 letter-d"></div>
    <div class="cell size-4 letter-r"></div>
    <div class="cell size-3 letter-r"></div>
    <div class="cell size-6 letter-r"></div>
    <div class="cell size-2 letter-e"></div>
    <div class="cell size-3 letter-e"></div>
    <div class="cell size-2"></div>
    <div class="cell size-6 letter-e"></div>
    <div class="cell size-1"></div>
    <div class="cell size-6 letter-s"></div>
    <div class="cell size-3"></div>
    <div class="cell size-2 letter-s"></div>
    <div class="cell size-2 letter-s"></div>
    <div class="cell size-7"></div>
  </div>
  <div class="row">
    <!-- row 7 -->
    <div class="cell size-4"></div>
    <div class="cell size-5"></div>
    <div class="cell size-4"></div>
    <div class="cell size-1 letter-a"></div>
    <div class="cell size-3 letter-a"></div>
    <div class="cell size-6 letter-n"></div>
    <div class="cell size-3"></div>
    <div class="cell size-6 letter-n"></div>
    <div class="cell size-5 letter-d"></div>
    <div class="cell size-5"></div>
    <div class="cell size-1 letter-d"></div>
    <div class="cell size-4 letter-d"></div>
    <div class="cell size-6 letter-r"></div>
    <div class="cell size-5"></div>
    <div class="cell size-2"></div>
    <div class="cell size-5 letter-e"></div>
    <div class="cell size-5"></div>
    <div class="cell size-2 letter-e"></div>
    <div class="cell size-2 letter-e"></div>
    <div class="cell size-5 letter-s"></div>
    <div class="cell size-2 letter-s"></div>
    <div class="cell size-4"></div>
    <div class="cell size-6"></div>
    <div class="cell size-2"></div>
  </div>
  <div class="row">
    <!-- row 8 -->
    <div class="cell size-11"></div>
    <div class="cell size-7 letter-a"></div>
    <div class="cell size-6 letter-a"></div>
    <div class="cell size-5 letter-n"></div>
    <div class="cell size-3"></div>
    <div class="cell size-1"></div>
    <div class="cell size-1 letter-n"></div>
    <div class="cell size-3 letter-n"></div>
    <div class="cell size-4 letter-d"></div>
    <div class="cell size-7"></div>
    <div class="cell size-5 letter-d"></div>
    <div class="cell size-3 letter-r"></div>
    <div class="cell size-2 letter-r"></div>
    <div class="cell size-7"></div>
    <div class="cell size-19 letter-e"></div>
    <div class="cell size-1"></div>
    <div class="cell size-14 letter-s"></div>
    <div class="cell size-2"></div>
    <div class="cell size-7"></div>
  </div>
  <div class="row">
    <!-- row 9 -->
    <div class="cell size-10"></div>
    <div class="cell size-7 letter-a"></div>
    <div class="cell size-7 letter-a"></div>
    <div class="cell size-2 letter-n"></div>
    <div class="cell size-2 letter-n"></div>
    <div class="cell size-5"></div>
    <div class="cell size-5 letter-n"></div>
    <div class="cell size-5 letter-d"></div>
    <div class="cell size-5"></div>
    <div class="cell size-3 letter-d"></div>
    <div class="cell size-2 letter-d"></div>
    <div class="cell size-6 letter-r"></div>
    <div class="cell size-4"></div>
    <div class="cell size-2"></div>
    <div class="cell size-6 letter-e"></div>
    <div class="cell size-5"></div>
    <div class="cell size-2"></div>
    <div class="cell size-1"></div>
    <div class="cell size-1"></div>
    <div class="cell size-9"></div>
    <div class="cell size-7 letter-s"></div>
    <div class="cell size-9"></div>
  </div>
  <div class="row">
    <!-- TODO: arreglar N -->
    <!-- row 10 -->
    <div class="cell size-8"></div>
    <div class="cell size-5 letter-a"></div>
    <div class="cell size-4"></div>
    <div class="cell size-2 letter-a"></div>
    <div class="cell size-2 letter-a"></div>
    <div class="cell size-1 letter-n"></div>
    <div class="cell size-3 letter-n"></div>
    <div class="cell size-1"></div>
    <div class="cell size-3"></div>
    <div class="cell size-2 letter-n"></div>
    <div class="cell siz e-2 letter-n"></div>
    <div class="cell size-3 letter-d"></div>
    <div class="cell size-4 letter-d"></div>
    <div class="cell size-9 letter-d"></div>
    <div class="cell size-2 letter-r"></div>
    <div class="cell size-3 letter-r"></div>
    <div class="cell size-3"></div>
    <div class="cell size-2"></div>
    <div class="cell size-1"></div>
    <div class="cell size-3 letter-e"></div>
    <div class="cell size-2 letter-e"></div>
    <div class="cell size-3"></div>
    <div class="cell size-6 letter-e"></div>
    <div class="cell size-6 letter-s"></div>
    <div class="cell size-4"></div>
    <div class="cell size-6 letter-s"></div>
    <div class="cell size-8"></div>
  </div>
  <div class="row">
    <!-- row 11 -->
    <div class="cell size-7"></div>
    <div class="cell size-5 letter-a"></div>
    <div class="cell size-3 letter-a"></div>
    <div class="cell size-5 letter-a"></div>
    <div class="cell size-5 letter-n"></div>
    <div class="cell size-2"></div>
    <div class="cell size-2"></div>
    <div class="cell size-3 letter-n"></div>
    <div class="cell size-1 letter-n"></div>
    <div class="cell size-1"></div>
    <div class="cell size-7 letter-d"></div>
    <div class="cell size-5 letter-d"></div>
    <div class="cell size-2 letter-d"></div>
    <div class="cell size-3 letter-r"></div>
    <div class="cell size-2 letter-r"></div>
    <div class="cell size-9"></div>
    <div class="cell size-8 letter-e"></div>
    <div class="cell size-6 letter-e"></div>
    <div class="cell size-2"></div>
    <div class="cell size-3 letter-s"></div>
    <div class="cell size-3 letter-s"></div>
    <div class="cell size-7 letter-s"></div>
    <div class="cell size-7"></div>
  </div>
  <div class="row">
    <!-- row 12-->
    <div class="cell size-10"></div>
    <div class="cell size-7 letter-a"></div>
    <div class="cell size-5 letter-a"></div>
    <div class="cell size-3 letter-n"></div>
    <div class="cell size-1 letter-n"></div>
    <div class="cell size-5"></div>
    <div class="cell size-5 letter-n"></div>
    <div class="cell size-4"></div>
    <div class="cell size-5 letter-d"></div>
    <div class="cell size-1"></div>
    <div class="cell size-5 letter-d"></div>
    <div class="cell size-6 letter-r"></div>
    <div class="cell size-12"></div>
    <div class="cell size-4 letter-e"></div>
    <div class="cell size-5 letter-e"></div>
    <div class="cell size-5"></div>
    <div class="cell size-1"></div>
    <div class="cell size-6 letter-s"></div>
    <div class="cell size-3 letter-s"></div>
    <div class="cell size-10"></div>
  </div>
  <div class="row">
    <!-- row 13 -->

    <div class="cell size-5"></div>
    <div class="cell size-7"></div>
    <div class="cell size-2"></div>
    <div class="cell size-10"></div>
    <div class="cell size-4"></div>
    <div class="cell size-4"></div>
    <div class="cell size-5"></div>
    <div class="cell size-12"></div>
    <div class="cell size-5"></div>
    <div class="cell size-4"></div>
    <div class="cell size-10"></div>
    <div class="cell size-8"></div>
    <div class="cell size-6"></div>
    <div class="cell size-2"></div>
    <div class="cell size-8"></div>
    <div class="cell size-8"></div>
  </div>
</div>

<style>
  :root {
    --letter-a: #f6af65;
    --letter-n: #00c2d1;
    --letter-d: #ec4848;
    --letter-r: #6de66d;
    --letter-e: #ee5bc4;
    --letter-s: #e1d74d;
    --gray: #334651;
    --unit: 10px;
    --container-width: 1650px;
    --initial-time: 2s;
    --slide-out-time: 3s;
    --slide-in-time: 4s;
  }

  body {
    display: grid;
    place-items: center;
    height: 100vh;
    margin: 0;
  }

  .container {
    position: relative;
    width: var(--container-width);
    display: flex;
    flex-direction: column;
    gap: var(--unit);
    overflow: hidden;
  }

  .row {
    height: var(--unit);
    display: flex;
    justify-content: center;
    gap: var(--unit);
    translate: var(--offset);
  }

  :not(.duplicate) > .row {
    animation: load-row var(--initial-time) calc(var(--delay) * 100ms + 500ms)
      forwards;
  }

  .container.no-load:not(.slide) .row {
    animation: none;
    translate: 0;
  }
  .cell {
    height: 100%;
    width: calc(var(--size, 2) * var(--unit));
    background-color: var(--gray);
    border-radius: 444px;
  }

  .cell.size-1 {
    --size: 1;
  }
  .cell.size-2 {
    --size: 2;
  }
  .cell.size-3 {
    --size: 3;
  }
  .cell.size-4 {
    --size: 4;
  }
  .cell.size-5 {
    --size: 5;
  }
  .cell.size-6 {
    --size: 6;
  }
  .cell.size-7 {
    --size: 7;
  }
  .cell.size-8 {
    --size: 8;
  }
  .cell.size-9 {
    --size: 9;
  }
  .cell.size-10 {
    --size: 10;
  }
  .cell.size-11 {
    --size: 11;
  }
  .cell.size-12 {
    --size: 12;
  }
  .cell.size-13 {
    --size: 13;
  }
  .cell.size-12 {
    --size: 12;
  }
  .cell.size-13 {
    --size: 13;
  }
  .cell.size-14 {
    --size: 14;
  }
  .cell.size-15 {
    --size: 15;
  }
  .cell.size-16 {
    --size: 16;
  }
  .cell.size-17 {
    --size: 17;
  }
  .cell.size-18 {
    --size: 18;
  }
  .cell.size-19 {
    --size: 19;
  }
  .cell.size-20 {
    --size: 20;
  }

  .cell.letter-a {
    background-color: var(--letter-a);
  }
  .cell.letter-n {
    background-color: var(--letter-n);
  }
  .cell.letter-d {
    background-color: var(--letter-d);
  }
  .cell.letter-r {
    background-color: var(--letter-r);
  }
  .cell.letter-e {
    background-color: var(--letter-e);
  }
  .cell.letter-s {
    background-color: var(--letter-s);
  }

  .row:nth-child(1) {
    --delay: 1;
    --offset: 150px;
  }
  .row:nth-child(2) {
    --delay: 2;
    --offset: -100px;
  }
  .row:nth-child(3) {
    --delay: 3;
    --offset: 200px;
  }
  .row:nth-child(4) {
    --delay: 4;
    --offset: -100px;
  }
  .row:nth-child(5) {
    --delay: 5;
    --offset: 200px;
  }
  .row:nth-child(6) {
    --delay: 6;
    --offset: -50px;
  }
  .row:nth-child(7) {
    --delay: 7;
    --offset: 150px;
  }
  .row:nth-child(8) {
    --delay: 8;
    --offset: -100px;
  }
  .row:nth-child(9) {
    --delay: 9;
    --offset: 50px;
  }
  .row:nth-child(10) {
    --delay: 10;
    --offset: -150px;
  }
  .row:nth-child(11) {
    --delay: 11;
    --offset: 150px;
  }
  .row:nth-child(12) {
    --delay: 12;
    --offset: 250px;
  }
  .row:nth-child(13) {
    --delay: 13;
    --offset: -250px;
  }

  @keyframes load-row {
    100% {
      translate: 0;
    }
  }

  .container.slide:not(.duplicate) > .row {
    animation: slide var(--slide-out-time) calc((var(--delay) - 1) * 100ms)
      ease-out both;
  }

  .row:nth-child(2n) {
    --direction: -1;
  }

  @keyframes slide {
    0% {
      translate: 0;
    }

    100% {
      translate: calc(var(--container-width) * var(--direction, 1));
    }
  }

  .container.duplicate {
    position: absolute;
  }

  .container.duplicate .row {
    translate: var(--container-width);
  }

  .container.slide .container.duplicate .row {
    animation: slide var(--slide-in-time)
      calc((var(--delay) - 1) * 100ms - 150ms) ease-in reverse both;
  }

  .container.slide .container.duplicate .row:nth-child(2n-1) {
    --direction: -1;
  }

  .container.slide .container.duplicate .row:nth-child(2n) {
    --direction: 1;
  }

  @media (width < 1300px) {
    :root {
      --unit: 7px;
    }
  }

  @media (width < 1080px) {
    :root {
      --unit: 5px;
    }
  }
  @media (width < 780px) {
    :root {
      --unit: 4px;
    }
  }
</style>
<script>
  const container = document.querySelector(".container");
  const cloneContainer = container.cloneNode(true);
  cloneContainer.classList.add("duplicate");
  container.append(cloneContainer);

  container.addEventListener("click", () => {
    container.classList.add("slide", "no-load");
    const rows = container.querySelectorAll(".row");

    const lastRow = rows[rows.length - 1];
    lastRow.addEventListener("animationend", () => {
      container.classList.remove("slide");
    });
  });
</script>
